Storing the encrypted string and sending it at later point of time leads to successfull transaction. For any operation requested by atm, mitm sends the encrypted string of deposit transaction which was performed earlier.